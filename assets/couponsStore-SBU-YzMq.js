import{v as r,x as a,S as l}from"./index-xEOnfpOF.js";var _={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"runweiting",VITE_TEXT:"這是部屬完成的環境",BASE_URL:"/create-vue-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:s,VITE_APP_PATH:i}=_,h=r("couponsStore",{state:()=>({couponList:[],pagination:{},couponState:{}}),actions:{getCoupons(t=1){const e=`${s}/api/${i}/admin/coupons?page=${t}`;a.get(e).then(o=>{console.log(o.data);const{coupons:c,pagination:p}=o.data,u=c.map(n=>({...n,is_enabled:!!n.is_enabled}));this.couponList=u,this.pagination=p,console.log(this.couponList)})},postCoupon(t){const e=`${s}/api/${i}/coupon`;return a.post(e,{data:{code:t}}).then(o=>{this.couponState=o.data,console.log(this.couponState)}).catch(o=>{l.fire({title:o.data.message,icon:"error",confirmButtonText:"OK"})})},clearCoupon(){this.couponState={}}}});export{h as c};
