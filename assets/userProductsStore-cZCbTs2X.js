import{G as c,v as n,x as p}from"./index-3BFtmY3B.js";import{s as u}from"./showErrorToast-iMbqEZuG.js";var d={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"runweiting",VITE_TEXT:"這是部屬完成的環境",BASE_URL:"/create-vue-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const l=c.useLoading({}),{VITE_APP_URL:P,VITE_APP_PATH:g}=d,E=n("userProductsStore",{state:()=>({productList:[],pagination:{}}),actions:{async getProducts(t,o=1){const r=l.show();let e=`${P}/api/${g}/products?page=${o}`;t&&(e+=`&category=${t}`);try{const s=await p.get(e),{products:i,pagination:a}=s.data;this.productList=i,this.pagination=a,console.log(s.data),console.log(this.productList),console.log(this.pagination),this.sortProducts()}catch(s){u(s.response.data.message)}finally{r.hide()}},sortProducts(){this.productList=this.productList.sort((t,o)=>t.price-o.price)}}});export{E as u};
