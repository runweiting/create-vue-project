import{f as n,g as e,S as i}from"./index-rw1dmYIz.js";const l=n({id:"loadingStore",state:()=>({loadingStatus:{getProduct:"",updateQty:""}})}),s="https://vue3-course-api.hexschool.io/v2",o="runweiting",g=n("cartStore",{state:()=>({cartList:[],cartTotal:0}),actions:{getCart(){const t=`${s}/api/${o}/cart`;e.get(t).then(a=>{this.cartList=a.data.data.carts,this.cartTotal=a.data.data.total})},async putCart(t){const a=l();a.loadingStatus.updateQty=t.id;const c=`${s}/api/${o}/cart/${t.id}`,d={product_id:t.product_id,qty:t.qty};try{const r=await e.put(c,{data:d});i.fire({title:r.data.message,icon:"success",confirmButtonText:"OK"}),a.loadingStatus.updateQty="",this.getCart()}catch(r){console.log("catch",r)}},deleteCart(t){const a=`${s}/api/${o}/cart/${t}`;e.delete(a).then(c=>{i.fire({title:c.data.message,icon:"success",confirmButtonText:"OK"}),this.getCart()})},deleteCarts(){const t=`${s}/api/${o}/carts`;e.delete(t).then(a=>{i.fire({title:a.data.message,icon:"success",confirmButtonText:"OK"}),this.getCart()})}}});export{g as c,l};
