import{m as r,q as m,_ as g,r as C,o,c as l,a as t,t as a,C as u,F as f,s as k,y as w,I as v,A as p,u as _,w as h,D as x,E as S}from"./index-XYnlPS3W.js";import{c as b,l as L}from"./cartStore-CHG_bQw_.js";const $={data(){return{title:"購物車列表"}},mounted(){this.getCart()},computed:{...r(b,["cartList","cartTotal"]),...r(L,["loadingStatus"])},methods:{...m(b,["getCart","putCart","deleteCart","deleteCarts"])}},n=s=>(x("data-v-6fdf8344"),s=s(),S(),s),q={class:"col-4 mt-4 mb-4"},I={style:{position:"sticky",top:"0"}},B={class:"container d-flex justify-content-between"},V={class:"container table-responsive"},D={class:"table table-hover align-middle"},T=n(()=>t("thead",{class:"table-warning"},[t("tr",{class:"align-middle",style:{height:"48px"}},[t("th",{scope:"col",class:"fw-bold"},"品名"),t("th",{scope:"col",class:"fw-bold"},"數量/單位"),t("th",{scope:"col",class:"fw-bold text-end"},"單價"),t("th")])],-1)),U={key:0},j=n(()=>t("td",{colspan:"4"},[t("small",{class:"text-muted"}," 購物車目前沒有任何品項 ")],-1)),A=[j],E={style:{width:"120px"}},F=["src"],N={style:{width:"120px"},class:"pe-0"},Q={class:"d-flex justify-content-between align-items-center"},z={class:"input-group input-group-sm",style:{width:"80px"}},M=["disable","onClick","onUpdate:modelValue"],G={class:"input-group-text"},H={class:"m-0 border-0 d-flex",style:{width:"40px"}},J=["onClick"],K=n(()=>t("i",{class:"bi bi-trash3"},null,-1)),O=[K],P={style:{width:"110px"},class:"text-end"},R={class:"fs-6 mb-0"},W={style:{width:"30px"},class:"text-end p-0"},X=["onClick"],Y={class:"text-muted"},Z=n(()=>t("td",null,"總計",-1)),tt={class:"text-end"},st=n(()=>t("td",null,null,-1)),et={colspan:"4"},ot=n(()=>t("button",{type:"button",class:"btn btn-outline-primary w-100",style:{height:"38px"}}," 前往商品列表 ",-1)),nt=n(()=>t("button",{type:"button",class:"btn btn-outline-success w-100",style:{height:"38px"}}," 前往購物車 ",-1));function lt(s,i,at,dt,y,it){const c=C("router-link");return o(),l("div",q,[t("div",I,[t("div",B,[t("h2",null,a(y.title),1),s.cartList.length!==0?(o(),l("button",{key:0,onClick:i[0]||(i[0]=(...e)=>s.deleteCarts&&s.deleteCarts(...e)),type:"button",class:"btn btn-outline-danger btn-sm",style:{height:"38px"}}," 清空購物車 ")):u("",!0)]),t("div",V,[t("table",D,[T,t("tbody",null,[s.cartList.length===0?(o(),l("tr",U,A)):(o(!0),l(f,{key:1},k(s.cartList,e=>(o(),l("tr",{key:e.id},[t("td",E,[t("img",{src:e.product.imageUrl,class:"rounded cart-img"},null,8,F)]),t("td",N,[t("div",Q,[t("div",z,[w(t("input",{disable:e.id===s.loadingStatus.updateQty,onClick:d=>s.putCart(e),"onUpdate:modelValue":d=>e.qty=d,type:"number",min:"1",class:"form-control"},null,8,M),[[v,e.qty]]),t("span",G,a(e.product.unit),1)]),t("div",H,[t("button",{class:p([{"d-none":e.qty>1},"btn btn-outline-danger"]),onClick:d=>s.deleteCart(e.id),type:"button",style:{scale:"60%"}},O,10,J),e.id===s.loadingStatus.updateQty?(o(),l("span",{key:0,class:p([{"d-none":e.qty===1},"spinner-border spinner-border-sm ms-2"]),role:"status","aria-hidden":"true"},null,2)):u("",!0)])])]),t("td",P,[t("p",R,a(e.product.price)+"元",1)]),t("td",W,[t("button",{onClick:d=>s.deleteCart(e.id),type:"button",class:"btn btn-outline-danger btn-sm py-0",style:{scale:"80%"}}," x ",8,X)])]))),128))]),t("tfoot",null,[t("tr",null,[t("td",null,[t("small",Y,a(`總共 ${s.cartList.length} 項`),1)]),Z,t("td",tt,a(s.cartTotal)+"元",1),st]),t("tr",null,[t("td",et,[s.cartList.length===0?(o(),_(c,{key:0,to:{name:"products"}},{default:h(()=>[ot]),_:1})):(o(),_(c,{key:1,to:{name:"cart"}},{default:h(()=>[nt]),_:1}))])])])])])])])}const ut=g($,[["render",lt],["__scopeId","data-v-6fdf8344"]]);export{ut as C};
