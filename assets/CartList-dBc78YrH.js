import{m as c,v as _,_ as b,o,c as n,a as t,t as l,C as r,F as y,z as m,x as g,H as C,A as p,D as f,E as v}from"./index-eNBx6K3w.js";import{c as u,l as k}from"./cartStore-48FNUIm5.js";const w={data(){return{title:"購物車列表"}},mounted(){this.getCart()},computed:{...c(u,["cartList","cartTotal"]),...c(k,["loadingStatus"])},methods:{..._(u,["getCart","putCart","deleteCart","deleteCarts"])}},a=s=>(f("data-v-f5b2ee4f"),s=s(),v(),s),x={class:"col-4 mt-4 mb-4"},S={style:{position:"sticky",top:"0"}},L={class:"container d-flex justify-content-between"},$={class:"container table-responsive"},q={class:"table table-hover align-middle"},I=a(()=>t("thead",{class:"table-warning"},[t("tr",{class:"align-middle",style:{height:"48px"}},[t("th",{scope:"col",class:"fw-bold"},"品名"),t("th",{scope:"col",class:"fw-bold"},"數量/單位"),t("th",{scope:"col",class:"fw-bold text-end"},"單價"),t("th")])],-1)),V={key:0},B=a(()=>t("td",{colspan:"4"},[t("small",{class:"text-muted"}," 購物車目前沒有任何品項 ")],-1)),D=[B],T={style:{width:"120px"}},U=["src"],j={style:{width:"120px"},class:"pe-0"},z={class:"d-flex justify-content-between align-items-center"},A={class:"input-group input-group-sm",style:{width:"80px"}},E=["disable","onClick","onUpdate:modelValue"],F={class:"input-group-text"},N={class:"m-0 border-0 d-flex",style:{width:"40px"}},Q=["onClick"],H=a(()=>t("i",{class:"bi bi-trash3"},null,-1)),M=[H],G={style:{width:"110px"},class:"text-end"},J={class:"fs-6 mb-0"},K={style:{width:"30px"},class:"text-end p-0"},O=["onClick"],P={class:"text-muted"},R=a(()=>t("td",null,"總計",-1)),W={class:"text-end"},X=a(()=>t("td",null,null,-1));function Y(s,i,Z,tt,h,st){return o(),n("div",x,[t("div",S,[t("div",L,[t("h2",null,l(h.title),1),s.cartList.length!==0?(o(),n("button",{key:0,onClick:i[0]||(i[0]=(...e)=>s.deleteCarts&&s.deleteCarts(...e)),type:"button",class:"btn btn-outline-danger btn-sm",style:{height:"38px"}}," 清空購物車 ")):r("",!0)]),t("div",$,[t("table",q,[I,t("tbody",null,[s.cartList.length===0?(o(),n("tr",V,D)):(o(!0),n(y,{key:1},m(s.cartList,e=>(o(),n("tr",{key:e.id},[t("td",T,[t("img",{src:e.product.imageUrl,class:"rounded cart-img"},null,8,U)]),t("td",j,[t("div",z,[t("div",A,[g(t("input",{disable:e.id===s.loadingStatus.updateQty,onClick:d=>s.putCart(e),"onUpdate:modelValue":d=>e.qty=d,type:"number",min:"1",class:"form-control"},null,8,E),[[C,e.qty]]),t("span",F,l(e.product.unit),1)]),t("div",N,[t("button",{class:p([{"d-none":e.qty>1},"btn btn-outline-danger"]),onClick:d=>s.deleteCart(e.id),type:"button",style:{scale:"60%"}},M,10,Q),e.id===s.loadingStatus.updateQty?(o(),n("span",{key:0,class:p([{"d-none":e.qty===1},"spinner-border spinner-border-sm ms-2"]),role:"status","aria-hidden":"true"},null,2)):r("",!0)])])]),t("td",G,[t("p",J,l(e.product.price)+"元",1)]),t("td",K,[t("button",{onClick:d=>s.deleteCart(e.id),type:"button",class:"btn btn-outline-danger btn-sm py-0",style:{scale:"80%"}}," x ",8,O)])]))),128))]),t("tfoot",null,[t("tr",null,[t("td",null,[t("small",P,l(`總共 ${s.cartList.length} 項`),1)]),R,t("td",W,l(s.cartTotal)+"元",1),X])])])])])])}const nt=b(w,[["render",Y],["__scopeId","data-v-f5b2ee4f"]]);export{nt as C};
