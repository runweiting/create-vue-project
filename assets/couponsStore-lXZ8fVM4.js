import{v as l,x as n,S as p}from"./index-SQ6S_Pfy.js";var _={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"runweiting",VITE_TEXT:"這是部屬完成的環境",BASE_URL:"/create-vue-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:a,VITE_APP_PATH:s}=_,h=l("couponsStore",{state:()=>({couponList:[],pagination:{},couponState:{}}),actions:{getCoupons(t=1){const e=`${a}/api/${s}/admin/coupons?page=${t}`;n.get(e).then(o=>{const{coupons:c,pagination:u}=o.data,r=c.map(i=>({...i,is_enabled:!!i.is_enabled}));this.couponList=r,this.pagination=u})},postCoupon(t){const e=`${a}/api/${s}/coupon`;return n.post(e,{data:{code:t}}).then(o=>{this.couponState=o.data}).catch(o=>{p.fire({title:o.data.message,icon:"error",confirmButtonText:"OK"})})},clearCoupon(){this.couponState={}},deleteCoupon(t){const e=`${a}/api/${s}/admin/coupon/${t}`;n.delete(e).then(o=>{p.fire({title:o.data.message,icon:"success",showConfirmButton:!1,timer:1500})}).then(()=>{this.getCoupons()})}}});export{h as c};
