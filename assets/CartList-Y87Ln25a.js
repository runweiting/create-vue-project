import{m as c,v as _,_ as b,o,c as n,a as t,t as l,C as r,F as y,z as m,x as g,H as C,A as p,D as f,E as v}from"./index-xVhxExL5.js";import{c as u,l as k}from"./cartStore-jM38zcOn.js";const w={data(){return{title:"購物車列表"}},mounted(){this.getCart()},computed:{...c(u,["cartList","cartTotal"]),...c(k,["loadingStatus"])},methods:{..._(u,["getCart","putCart","deleteCart","deleteCarts"])}},a=s=>(f("data-v-5534b9f1"),s=s(),v(),s),x={class:"col-4 mt-4 mb-4",style:{position:"sticky"}},S={class:"container d-flex justify-content-between"},L={class:"container table-responsive"},$={class:"table table-hover align-middle"},q=a(()=>t("thead",{class:"table-warning"},[t("tr",{class:"align-middle",style:{height:"48px"}},[t("th",{scope:"col",class:"fw-bold"},"品名"),t("th",{scope:"col",class:"fw-bold"},"數量/單位"),t("th",{scope:"col",class:"fw-bold text-end"},"單價"),t("th")])],-1)),I={key:0},V=a(()=>t("td",{colspan:"4"},[t("small",{class:"text-muted"}," 購物車目前沒有任何品項 ")],-1)),B=[V],D={style:{width:"120px"}},T=["src"],U={style:{width:"120px"},class:"pe-0"},j={class:"d-flex justify-content-between align-items-center"},z={class:"input-group input-group-sm",style:{width:"80px"}},A=["disable","onClick","onUpdate:modelValue"],E={class:"input-group-text"},F={class:"m-0 border-0 d-flex",style:{width:"40px"}},N=["onClick"],Q=a(()=>t("i",{class:"bi bi-trash3"},null,-1)),H=[Q],M={style:{width:"110px"},class:"text-end"},G={class:"fs-6 mb-0"},J={style:{width:"30px"},class:"text-end p-0"},K=["onClick"],O={class:"text-muted"},P=a(()=>t("td",null,"總計",-1)),R={class:"text-end"},W=a(()=>t("td",null,null,-1));function X(s,i,Y,Z,h,tt){return o(),n("div",x,[t("div",S,[t("h2",null,l(h.title),1),s.cartList.length!==0?(o(),n("button",{key:0,onClick:i[0]||(i[0]=(...e)=>s.deleteCarts&&s.deleteCarts(...e)),type:"button",class:"btn btn-outline-danger btn-sm",style:{height:"38px"}}," 清空購物車 ")):r("",!0)]),t("div",L,[t("table",$,[q,t("tbody",null,[s.cartList.length===0?(o(),n("tr",I,B)):(o(!0),n(y,{key:1},m(s.cartList,e=>(o(),n("tr",{key:e.id},[t("td",D,[t("img",{src:e.product.imageUrl,class:"rounded cart-img"},null,8,T)]),t("td",U,[t("div",j,[t("div",z,[g(t("input",{disable:e.id===s.loadingStatus.updateQty,onClick:d=>s.putCart(e),"onUpdate:modelValue":d=>e.qty=d,type:"number",min:"1",class:"form-control"},null,8,A),[[C,e.qty]]),t("span",E,l(e.product.unit),1)]),t("div",F,[t("button",{class:p([{"d-none":e.qty>1},"btn btn-outline-danger"]),onClick:d=>s.deleteCart(e.id),type:"button",style:{scale:"60%"}},H,10,N),e.id===s.loadingStatus.updateQty?(o(),n("span",{key:0,class:p([{"d-none":e.qty===1},"spinner-border spinner-border-sm ms-2"]),role:"status","aria-hidden":"true"},null,2)):r("",!0)])])]),t("td",M,[t("p",G,l(e.product.price)+"元",1)]),t("td",J,[t("button",{onClick:d=>s.deleteCart(e.id),type:"button",class:"btn btn-outline-danger btn-sm py-0",style:{scale:"80%"}}," x ",8,K)])]))),128))]),t("tfoot",null,[t("tr",null,[t("td",null,[t("small",O,l(`總共 ${s.cartList.length} 項`),1)]),P,t("td",R,l(s.cartTotal)+"元",1),W])])])])])}const ot=b(w,[["render",X],["__scopeId","data-v-5534b9f1"]]);export{ot as C};
