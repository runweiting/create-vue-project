import{G as p,v as g,x as l,S as d,K as u,_ as f,q as b,r as _,o as k,c as x,a as e,b as a,w as s,F as T,d as i}from"./index-SQ6S_Pfy.js";var L={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"runweiting",VITE_TEXT:"這是部屬完成的環境",BASE_URL:"/create-vue-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const E=p.useLoading(),{VITE_APP_URL:m}=L,$=g("loginStore",{actions:{checkLogin(){const o=E.show(),t=`${m}/api/user/check`,r=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");r&&(l.defaults.headers.common.Authorization=r),l.post(t).then(c=>{console.log(c)}).catch(c=>{d.fire({title:c.response.data.message,icon:"error",confirmButtonText:"OK"}).then(()=>{u.push({name:"login"})})}).finally(()=>{o.hide()})},logout(){const o=`${m}/logout`;l.post(o).then(t=>{d.fire({title:t.data.message,icon:"success",showConfirmButton:!1,timer:1500}).then(()=>{document.cookie="myToken=; expires=;",l.defaults.headers.common.Authorization=null,u.push({name:"home"})})})}}}),w={created(){this.checkLogin()},methods:{...b($,["checkLogin","logout"])}},A={class:"navbar navbar-expand-lg navbar-dark bg-dark"},N={class:"container px-4"},P=e("a",{class:"navbar-brand mb-0",href:"index.html"},"UNIQLOLO",-1),S=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),V={class:"collapse navbar-collapse justify-content-end",id:"navbarNav"},R={class:"navbar-nav gap-2"},y={class:"nav-item"},B={class:"nav-item"},I={class:"nav-item"},O={class:"nav-item"},C={class:"nav-item"},U={class:"nav-item"};function D(o,t,r,c,j,z){const n=_("RouterLink"),h=_("router-view");return k(),x(T,null,[e("header",null,[e("nav",A,[e("div",N,[P,S,e("div",V,[e("ul",R,[e("li",y,[a(n,{to:{name:"admin/products"},class:"nav-link text-decoration-none"},{default:s(()=>[i("編輯商品")]),_:1})]),e("li",B,[a(n,{to:{name:"admin/orders"},class:"nav-link text-decoration-none"},{default:s(()=>[i("編輯訂單")]),_:1})]),e("li",I,[a(n,{to:{name:"admin/coupons"},class:"nav-link text-decoration-none"},{default:s(()=>[i("編輯優惠卷")]),_:1})]),e("li",O,[a(n,{to:{name:"admin/articles"},class:"nav-link text-decoration-none"},{default:s(()=>[i("編輯文章")]),_:1})]),e("li",C,[a(n,{to:{name:"home"},class:"nav-link text-decoration-none"},{default:s(()=>[i("回到前台")]),_:1})]),e("li",U,[e("button",{onClick:t[0]||(t[0]=(...v)=>o.logout&&o.logout(...v)),type:"button",class:"btn btn-warning"}," 登出 ")])])])])])]),e("main",null,[a(h)])],64)}const K=f(w,[["render",D]]);export{K as default};
